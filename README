# ğŸ¤– Bot de Pedidos DAATCS

Bot de WhatsApp especializado para gestiÃ³n de pedidos de sublimaciones que funciona exclusivamente en el grupo "PEDIDOS DAATCS".

## ğŸŒŸ CaracterÃ­sticas Principales

- âœ… **Registro automÃ¡tico de pedidos** con formato inteligente
- ğŸ“Š **Seguimiento de estados** en tiempo real
- ğŸ‘¥ **GestiÃ³n completa de clientes** con historial
- ğŸ“ˆ **EstadÃ­sticas y reportes** detallados
- ğŸ” **Sistema de permisos** para administradores
- ğŸ’¾ **Persistencia de datos** con backup automÃ¡tico
- ğŸ¨ **Interfaz amigable** con emojis y formato claro
- â° **Notificaciones automÃ¡ticas** y recordatorios
- ğŸ“± **Optimizado para Termux** en Android

## ğŸš€ InstalaciÃ³n RÃ¡pida en Termux

### MÃ©todo 1: InstalaciÃ³n AutomÃ¡tica

```bash
# Descargar e instalar automÃ¡ticamente
curl -sSL https://raw.githubusercontent.com/tu-usuario/bot-pedidos-daatcs/main/install.sh | bash
```

### MÃ©todo 2: InstalaciÃ³n Manual

```bash
# Actualizar Termux
pkg update -y && pkg upgrade -y

# Instalar dependencias
pkg install nodejs npm git -y

# Clonar el repositorio
git clone https://github.com/tu-usuario/bot-pedidos-daatcs.git
cd bot-pedidos-daatcs

# Instalar dependencias de Node.js
npm install

# Configurar el bot
cp config.example.js config.js
nano config.js  # Editar configuraciÃ³n

# Ejecutar
node start.js
```

## âš™ï¸ ConfiguraciÃ³n Inicial

### 1. Configurar Administradores

Edita el archivo `config.js`:

```javascript
adminNumbers: [
    '5215551234567',  // Reemplaza con nÃºmeros reales
    '5215559876543'   // Formato: cÃ³digo paÃ­s + nÃºmero sin espacios
]
```

### 2. Personalizar Empresa

```javascript
empresa: {
    nombre: 'DAATCS Sublimaciones',
    eslogan: 'Tu imagen, nuestro arte',
    contacto: {
        telefono: '+52 55 1234 5678',
        email: 'contacto@daatcs.com',
        direccion: 'Tu direcciÃ³n aquÃ­'
    }
}
```

### 3. Primera EjecuciÃ³n

1. Ejecuta: `node start.js`
2. Escanea el cÃ³digo QR con WhatsApp
3. Â¡El bot estarÃ¡ listo!

## ğŸ“± Comandos Disponibles

### ğŸ‘¥ Para Todos los Usuarios

| Comando | DescripciÃ³n | Ejemplo |
|---------|-------------|---------|
| `!ayuda` | Mostrar ayuda completa | `!ayuda` |
| `!catalogo` | Ver productos disponibles | `!catalogo` |
| `!contacto` | InformaciÃ³n de contacto | `!contacto` |
| `!mispedidos` | Ver mis pedidos | `!mispedidos` |
| `!estado [ID]` | Consultar estado de pedido | `!estado DAA240101001` |
| `!estadisticas` | Ver mis estadÃ­sticas personales | `!estadisticas` |

### ğŸ‘‘ Para Administradores

| Comando | DescripciÃ³n | Ejemplo |
|---------|-------------|---------|
| `!admin` | Ver comandos de administrador | `!admin` |
| `!listapedidos` | Todos los pedidos | `!listapedidos` |
| `!pedidospendientes` | Solo pedidos pendientes | `!pedidospendientes` |
| `!cambiarestado [ID] [estado]` | Cambiar estado | `!cambiarestado DAA240101001 listo` |
| `!buscarpedido [ID]` | Buscar pedido especÃ­fico | `!buscarpedido DAA240101001` |
| `!buscarcliente [tÃ©rmino]` | Buscar cliente | `!buscarcliente Juan` |
| `!reporte [dÃ­as]` | Reporte de ventas | `!reporte 30` |
| `!backup` | Crear backup manual | `!backup` |
| `!exportar` | Exportar datos a CSV | `!exportar` |
| `!salud` | Estado del sistema | `!salud` |

## ğŸ“ Formato de Pedido

### Formato BÃ¡sico

```
Cliente: Juan PÃ©rez
TelÃ©fono: 55 1234 5678
Producto: Taza personalizada con logo empresarial
Cantidad: 5
Precio: 50
Nota: Logo en alta resoluciÃ³n, fondo blanco
```

### Campos Disponibles

- **Cliente:** (Requerido) Nombre completo
- **TelÃ©fono:** NÃºmero de contacto
- **Producto:** (Requerido) DescripciÃ³n del producto
- **Cantidad:** NÃºmero de piezas (default: 1)
- **Precio:** Costo por pieza
- **Nota:** Observaciones especiales

### Ejemplo Completo

```
Cliente: MarÃ­a GonzÃ¡lez
TelÃ©fono: +52 55 9876 5432
Producto: Playeras polo sublimadas
Cantidad: 20
Precio: 120
Nota: Tallas variadas (S:5, M:10, L:5), logo centrado en pecho
```

## ğŸ“Š Estados de Pedidos

| Estado | DescripciÃ³n | Emoji |
|--------|-------------|-------|
| `pendiente` | ReciÃ©n recibido, esperando confirmaciÃ³n | â³ |
| `confirmado` | Pedido confirmado, listo para producciÃ³n | âœ… |
| `en_proceso` | En producciÃ³n | ğŸ”„ |
| `listo` | Terminado, listo para entrega | ğŸ“¦ |
| `entregado` | Entregado al cliente | ğŸ‰ |
| `cancelado` | Pedido cancelado | âŒ |

## ğŸ—‚ï¸ Estructura del Proyecto

```
bot-pedidos-daatcs/
â”œâ”€â”€ ğŸ“„ start.js              # Archivo principal del bot
â”œâ”€â”€ ğŸ“„ utils.js              # Funciones auxiliares
â”œâ”€â”€ ğŸ“„ comandos.js           # Sistema de comandos
â”œâ”€â”€ ğŸ“„ config.js             # ConfiguraciÃ³n
â”œâ”€â”€ ğŸ“„ package.json          # Dependencias Node.js
â”œâ”€â”€ ğŸ“„ install.sh            # Script de instalaciÃ³n
â”œâ”€â”€ ğŸ“ data/                 # Datos persistentes
â”‚   â”œâ”€â”€ pedidos.json         # Base de datos de pedidos
â”‚   â””â”€â”€ clientes.json        # Base de datos de clientes
â”œâ”€â”€ ğŸ“ auth/                 # AutenticaciÃ³n WhatsApp
â”œâ”€â”€ ğŸ“ logs/                 # Archivos de log
â”œâ”€â”€ ğŸ“ backups/              # Backups automÃ¡ticos
â””â”€â”€ ğŸ“ exports/              # Exportaciones CSV
```

## ğŸ› ï¸ Mantenimiento

### Comandos Ãštiles

```bash
# Iniciar bot
node start.js

# Iniciar con reinicio automÃ¡tico
./auto-restart.sh

# Ver logs en tiempo real
tail -f logs/bot_$(date +%Y-%m-%d).log

# Crear backup manual
node -e "require('./utils').crearBackup(require('./data/pedidos.json'), require('./data/clientes.json'))"

# Ver estado del sistema
node -e "console.log(require('./utils').verificarSaludSistema())"
```

### Backups

- **AutomÃ¡tico**: Cada 24 horas (configurable)
- **Manual**: Comando `!backup` (solo admins)
- **UbicaciÃ³n**: `./backups/`
- **RetenciÃ³n**: 7 archivos (configurable)

### Logs

- **UbicaciÃ³n**: `./logs/bot_YYYY-MM-DD.log`
- **RotaciÃ³n**: Diaria automÃ¡tica
- **Niveles**: debug, info, warn, error

## ğŸ”§ SoluciÃ³n de Problemas

### Bot no se conecta

1. Verificar conexiÃ³n a internet
2. Eliminar carpeta `auth/` y volver a escanear QR
3. Actualizar dependencias: `npm update`

### No reconoce el grupo

1. Verificar que el bot estÃ© en el grupo "PEDIDOS DAATCS"
2. Verificar permisos del bot en el grupo
3. Revisar configuraciÃ³n en `config.js`

### Errores de permisos

1. Verificar nÃºmeros de admin en `config.js`
2. Usar formato correcto: cÃ³digo paÃ­s + nÃºmero
3. Ejemplo: `'5215551234567'`

### Datos perdidos

1. Restaurar desde backup: `./
